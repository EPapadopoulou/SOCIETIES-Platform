<html xmlns="http://www.w3.org/1999/xhtml">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	template="templates/main_template.xhtml">

	<ui:define name="html_head">
		<title>Privacy Preferences</title>
	</ui:define>

	<ui:define name="body">
		<div class="hr grid_12 clearfix"></div>
		<!-- Left Column -->
		<section id="left_col" class="grid_12">
			<div class="breadcrumbs">
				<a href="index.xhtml">Home</a> / <a href="privacysettings.xhtml">Privacy
					Settings</a> / <a href="privacypreferences.xhtml">Privacy
					Preferences</a> / <a href="privacy_ppn_create.xhtml">Create New PPN
					Preference</a>
			</div>
		</section>


			<h4 class="form_title">Create new Privacy Policy Negotiation
				Preference</h4>
			<div class="hr grid_12 clearfix"></div>
			<section>
				<h:panelGrid columns="2" cellpadding="5">
					<h5>Privacy Preference Details</h5>
					<h:outputLabel for="requestorId" value="Requestor:"></h:outputLabel>
					<h:outputText id="requestorId"
						value="#{PPNcreateBean.preferenceDetails.requestor.requestorId}"></h:outputText>


				</h:panelGrid>
			</section>
			<p:contextMenu for="treeSingle">
				<p:menuitem value="View" update="messages"
					actionListener="#{PPNcreateBean.displaySelectedSingle}"
					icon="ui-icon-search" />
				<p:menuitem value="Delete" update="treeSingle"
					actionListener="#{PPNcreateBean.deleteNode}" icon="ui-icon-close" />
				<p:menuitem value="Add Condition" update="treeSingle"
					actionListener="#{PPNcreateBean.startAddConditionProcess}"
					icon="ui-icon-plus" />
				<p:menuitem value="Add Outcome" update="treeSingle"
					actionListener="#{PPNcreateBean.addOutcome}" icon="ui-icon-plus" />
				<p:menuitem value="Edit" update="treeSingle"
					actionListener="#{PPNcreateBean.editNode}" icon="ui-icon-pencil" />

			</p:contextMenu>


			<p:tree id="treeSingle" value="#{PPNcreateBean.root}" var="node"
				selectionMode="single" selection="#{PPNcreateBean.selectedNode}"
				dynamic="true">

				<p:treeNode>
					<h:outputText value="#{node}" />
				</p:treeNode>
			</p:tree>






		<p:dialog id="addConditionDialog" header="Add Condition"
			widgetVar="addConddlg" resizable="false" dynamic="true">

			<h:panelGrid columns="2" cellpadding="5">

				<h:outputLabel for="ctxId" value="Condition:" />
				<h:selectOneMenu id="ctxId" value="#{PPNcreateBean.selectedCtxID}">
					<f:selectItems value="#{PPNcreateBean.ctxIds}" />
				</h:selectOneMenu>

				<h:outputLabel for="operator" value="Operator: " />
				<p:selectOneMenu id="operator"
					value="#{PPNcreateBean.selectedOperator}">
					<f:selectItems value="#{PPNcreateBean.operators}" />
				</p:selectOneMenu>
				<h:outputLabel for="ctxValue" value="Value:" />
				<p:inputText id="ctxValue" value="#{PPNcreateBean.ctxValue}"
					label="value">
				</p:inputText>

				<f:facet name="footer">
					<p:commandButton id="AddConditionButton" value="Add"
						oncomplete="#{p:widgetVar('addConditionDialog')}.hide()"
						update="treeSingle" actionListener="#{PPNcreateBean.addCondition}" />
				</f:facet>

			</h:panelGrid>

		</p:dialog>


		<p:dialog id="preferenceDetailsDialog"
			header="Enter PPN preference details" widgetVar="prefDetailsDlg"
			resizable="true" modal="true" closable="false">

			<h:panelGrid columns="2" cellpadding="5">
				<h:outputLabel for="requestorId2" value="Requestor JID" />
				<p:inputText id="requestorId2"
					value="#{PPNcreateBean.preferenceDetails.requestor.requestorId}"
					label="Requestor">
				</p:inputText>



				<h:outputLabel for="resource" value="Resource type" />
				<h:inputText id="resource"
					value="#{PPNcreateBean.preferenceDetails.resource.dataType}"
					label="resource type">
				</h:inputText>
				<p:outputPanel id="customPanel">
					<p:selectOneRadio id="customRadio"
						value="#{PPNcreateBean.requestorType}" layout="custom">
						<f:selectItem itemLabel="Option 1" itemValue="0" />
						<f:selectItem itemLabel="Option 2" itemValue="1" />
						<f:selectItem itemLabel="Option 3" itemValue="2" />
					</p:selectOneRadio>

					<h:panelGrid columns="3">
						<p:radioButton id="requestorCisSelected" for="customRadio"
							itemIndex="0" />
						<h:outputLabel for="requestorCisSelected" value="CIS" />
						<p:inputText id="requestorCis"
							value="#{PPNcreateBean.requestorCis}" />

						<p:radioButton id="requestorServiceSelected" for="customRadio"
							itemIndex="1" />
						<h:outputLabel for="requestorServiceSelected" value="Service" />
						<p:inputText id="requestorService"
							value="#{PPNcreateBean.requestorService}" />

						<p:radioButton id="noneSelected" for="customRadio" itemIndex="2" />
						<h:outputLabel for="noneSelected" value="None" />

					</h:panelGrid>

				</p:outputPanel>
				<f:facet name="footer">
					<p:commandButton id="SavePrefDetails" value="Submit"
						process="preferenceDetailsDialog" update="mainForm:requestorId"
						actionListener="#{PPNcreateBean.savePreferenceDetails}">
					</p:commandButton>
				</f:facet>
			</h:panelGrid>

		</p:dialog>
	</ui:define>



	<ui:define name="dialogs">
		<ui:include src="includes/dialogs/privacyPreferencesComponents.xhtml" />
	</ui:define>
</ui:composition>
</html>
